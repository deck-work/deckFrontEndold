"use strict";(self.webpackChunkdeckapp=self.webpackChunkdeckapp||[]).push([[319],{7319:function(e,a,s){s.r(a),s.d(a,{default:function(){return f}});var n=s(4165),t=s(5861),i=s(9439),r=s(2791),c=s(4931),l=s.n(c),o=(s(6605),s(184));var d=function(e){e.handleCloseModal;var a=(0,r.useState)(!0),s=(0,i.Z)(a,2),n=s[0];return s[1],(0,o.jsxs)("div",{className:"loading-modal",children:[(0,o.jsx)("div",{className:"progress-container",children:(0,o.jsx)(l(),{color:"black",loading:n,size:100})}),(0,o.jsx)("div",{className:"importing",children:(0,o.jsx)("h6",{children:"Importing presentation..."})})]})},u=s(7689);var p=function(e){var a=e.handleCloseModal,s=e.data,n=(0,u.s0)();console.log("datraaa",s);var t=(0,r.useState)(!1),c=(0,i.Z)(t,2),l=c[0];return c[1],(0,o.jsxs)("div",{className:"imported-modal",children:[(0,o.jsx)("div",{className:"imported-icon",children:l?(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"62",height:"70",fill:"red",class:"bi bi-x-circle",viewBox:"0 0 16 16",children:[(0,o.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,o.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})]}):(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"66",fill:"green",class:"bi bi-check-circle",viewBox:"0 0 16 16",children:[(0,o.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,o.jsx)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"})]})}),(0,o.jsx)("div",{className:"deck-heading",children:l?(0,o.jsx)("h6",{children:"We faced some issues while importing your deck"}):(0,o.jsx)("h6",{children:"Your deck was imported successfully"})}),(0,o.jsxs)("div",{className:"imported-button",children:[(0,o.jsx)("button",{onClick:function(){n("/presentation?userId=".concat(s.userId,"&deckId=").concat(s.deckId))},children:"Open Deck"}),l?(0,o.jsxs)("div",{className:"failed-button",children:[(0,o.jsx)("button",{onClick:a,children:"Try Again"}),(0,o.jsx)("p",{onClick:a,className:"back",children:"Go Back"})]}):(0,o.jsx)("p",{className:"close-window-paragraph",onClick:a,children:"Close this window"})]})]})},h=s(9085),m=(s(5462),s(150)),v=s(8829),x=(s(8022),s(5931)),g=s.n(x),f=function(){var e=(0,r.useState)(!1),a=(0,i.Z)(e,2),s=a[0],c=a[1],l=(0,r.useState)(!1),x=(0,i.Z)(l,2),f=x[0],j=x[1],k=(0,r.useState)(!1),w=(0,i.Z)(k,2),N=w[0],C=w[1],b=(0,r.useState)(!1),Z=(0,i.Z)(b,2),S=Z[0],I=Z[1],L=(0,r.useState)(null),A=(0,i.Z)(L,2),M=(A[0],A[1]),z=(0,r.useState)(""),D=(0,i.Z)(z,2),O=(D[0],D[1],(0,r.useState)(!1)),y=(0,i.Z)(O,2),H=(y[0],y[1],(0,r.useState)("")),T=(0,i.Z)(H,2),B=(T[0],T[1],(0,r.useState)([])),E=(0,i.Z)(B,2),F=E[0],P=E[1],G=(0,r.useState)([]),V=(0,i.Z)(G,2),R=(V[0],V[1],(0,r.useState)()),U=(0,i.Z)(R,2),W=U[0],X=U[1],Y=(0,r.useState)(),q=(0,i.Z)(Y,2),J=q[0],K=q[1],Q=(0,u.s0)(),$=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(a){var s,t,i,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new FormData,j(!0),t=localStorage.getItem("userId"),s.append("file",a[0].file),s.append("userId",t),i={"Content-Type":"multipart/form-data"},e.next=8,(0,v.F)(m.m.CONVERT,{},"POST",s,{},i);case 8:r=e.sent,console.log(r,"apiiiiiiiii"),200===r.status?(C(!0),K(r.data.deckId),I(!0),h.Am.success(r.data.message+" ",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})):h.Am.error(r.data,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),console.log(r);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),_=function(){c(!1),j(!1),C(!1),M(null)};function ee(){return ee=(0,t.Z)((0,n.Z)().mark((function e(){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userId"),X(a),e.next=4,(0,v.F)(m.m.GETFILE,{userId:a},"GET");case 4:s=e.sent,console.log(s),P(s.data);case 7:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function ae(e){K(e.target.id),Q("/presentation?userId=".concat(W,"&deckId=").concat(e.target.id))}(0,r.useEffect)((function(){!function(){ee.apply(this,arguments)}()}),[S]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("div",{className:"drag-container",children:[(0,o.jsx)("div",{children:(0,o.jsx)("h2",{children:"Decks"})}),(0,o.jsx)("div",{className:"deck-add-new",children:(0,o.jsx)("button",{onClick:function(){c(!0)},children:(0,o.jsx)("h6",{children:"Add New"})})})]}),(0,o.jsx)("div",{className:"deck-area",children:null===F||void 0===F?void 0:F.map((function(e,a){return(0,o.jsxs)("div",{className:"deck-id",onClick:ae,children:[(0,o.jsx)("img",{src:e.url,name:"image",alt:"Im",id:e.id,value:e.id,className:"deck-images"}),(0,o.jsx)("p",{children:a+1})]},e.id)}))}),s&&(0,o.jsxs)("div",{className:"deck-model",onDrop:function(e){e.preventDefault();var a=e.dataTransfer.files;console.log("Dropped files:",a),a.length>0&&M(a[0])},onDragOver:function(e){return e.preventDefault()},children:[(0,o.jsxs)("div",{className:"model-top",children:[(0,o.jsxs)("div",{className:"top-left",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"30",fill:"black",class:"bi bi-easel",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M8 0a.5.5 0 0 1 .473.337L9.046 2H14a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-1.85l1.323 3.837a.5.5 0 1 1-.946.326L11.092 11H8.5v3a.5.5 0 0 1-1 0v-3H4.908l-1.435 4.163a.5.5 0 1 1-.946-.326L3.85 11H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h4.954L7.527.337A.5.5 0 0 1 8 0zM2 3v7h12V3H2z"})}),(0,o.jsx)("span",{children:"Add New Deck"})]}),(0,o.jsx)("p",{onClick:_,children:"X"})]}),(0,o.jsxs)("div",{className:"model-drop",children:[(0,o.jsx)("div",{className:"imageContainer"}),(0,o.jsx)(g(),{getUploadParams:function(e){e.meta;return{url:"https://httpbin.org/post"}},onChangeStatus:function(e,a){var s=e.meta,n=e.file;"done"===a?(j(!1),C(!1)):"uploading"===a&&j(!0),console.log(a,s,n)},onSubmit:$,accept:"application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/vnd.google-apps.presentation"})]})]}),f&&(0,o.jsx)(d,{handleCloseModal:_}),N&&(0,o.jsx)(p,{handleCloseModal:_,data:{userId:W,deckId:J}})]})})}}}]);
//# sourceMappingURL=319.bb863319.chunk.js.map